name: Build templates
on:
  push:
  schedule:
    # Run weekly on Monday a 6am
    - cron: "0 6 * * 1"

jobs:
  build-template-base:
    name: Build template base
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Build template
        run: yarn && yarn build:template
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v4
        with:
          title: Updated templates
          body: |
            Update report
            - Auto-generated by [create-pull-request][1]

            [1]: https://github.com/peter-evans/create-pull-request
          assignees: gpichot
          reviewers: gpichot
